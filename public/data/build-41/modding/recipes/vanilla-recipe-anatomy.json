{
  "id": "recipes-vanilla-recipe-anatomy",
  "title": "Vanilla Recipe Anatomy - Complete Parameter Reference",
  "slug": "vanilla-recipe-anatomy",
  "version": "build-41",
  "section": "modding",
  "category": "recipes",
  "tags": [
    "lua",
    "recipe",
    "item",
    "weapon",
    "event",
    "animation",
    "sound",
    "crafting"
  ],
  "content": "# Vanilla Recipe Anatomy - Complete Parameter Reference\r\n\r\n## Overview\r\nThis document provides a complete breakdown of all parameters available in Project Zomboid recipes, based on vanilla game recipes.\r\n\r\n## Complete Recipe Template\r\n\r\n```\r\nmodule ModuleName {\r\n    imports {\r\n        Base\r\n    }\r\n\r\n    recipe [Recipe Name] {\r\n        // INPUT SECTION (order matters)\r\n        [keep] InputItem1/AlternativeItem1,\r\n        [keep] InputItem2=quantity,\r\n        [keep] [Recipe.GetItemTypes.Type],\r\n\r\n        // OUTPUT SECTION\r\n        Result:OutputItem,\r\n        // OR\r\n        Result:OutputItem=quantity,\r\n\r\n        // CORE PARAMETERS\r\n        Time:number,\r\n        Category:CategoryName,\r\n        Sound:SoundName,\r\n\r\n        // OPTIONAL REQUIREMENTS\r\n        NearItem:ObjectName,\r\n        SkillRequired:SkillName=level,\r\n        NeedToBeLearn:boolean,\r\n\r\n        // CALLBACKS & SCRIPTING\r\n        OnGiveXP:FunctionName,\r\n        OnCreate:FunctionName,\r\n        OnTest:FunctionName,\r\n        OnCanPerform:FunctionName,\r\n\r\n        // ANIMATION\r\n        AnimNode:AnimationName,\r\n        Prop1:ItemOrSource,\r\n        Prop2:ItemOrSource,\r\n\r\n        // ITEM BEHAVIOR\r\n        CanBeDoneFromFloor:boolean,\r\n        AllowFrozenItem:boolean,\r\n        AllowRottenItem:boolean,\r\n    }\r\n}\r\n```\r\n\r\n## Parameter Descriptions\r\n\r\n### Input Section\r\n\r\n#### Basic Input\r\n```\r\nInputItem,                // Single item, consumed\r\nInputItem=5,              // 5 units required, consumed\r\nkeep Tool,                // Reusable tool\r\n```\r\n\r\n#### Alternative Items (OR Logic)\r\n```\r\nItem1/Item2/Item3,        // Any one of these items works\r\nScrewdriver/Knife,        // Either screwdriver OR knife\r\n```\r\n\r\n#### Item Type Matching\r\n```\r\n[Recipe.GetItemTypes.Hammer],     // Any item tagged as \"Hammer\"\r\n[Recipe.GetItemTypes.Saw],        // Any item tagged as \"Saw\"\r\n[Recipe.GetItemTypes.BluntWeapon], // Any blunt weapon\r\n```\r\n\r\n**Common Item Types:**\r\n- `Hammer`\r\n- `Saw`\r\n- `Screwdriver`\r\n- `Pliers`\r\n- `WeldingMask`\r\n- `BluntWeapon`\r\n- `BladeWeapon`\r\n\r\n### Output Section\r\n\r\n#### Result\r\n**Purpose:** Defines what item(s) the recipe creates\r\n\r\n**Syntax:**\r\n```\r\nResult:OutputItem,           // Single item\r\nResult:OutputItem=10,        // 10 items\r\n```\r\n\r\n**Examples:**\r\n```\r\nResult:Bullets9mm=10,        // Creates 10 bullets\r\nResult:Plank=3,              // Creates 3 planks\r\nResult:SpikedBat,            // Creates 1 spiked bat\r\n```\r\n\r\n### Core Parameters\r\n\r\n#### Time\r\n**Purpose:** How long the recipe takes to complete\r\n\r\n**Unit:** Game ticks (roughly 1 tick = 1 second of real time at normal speed)\r\n\r\n**Syntax:**\r\n```\r\nTime:100.0,                  // 100 game ticks\r\nTime:230.0,                  // 230 ticks (about 3-4 minutes)\r\n```\r\n\r\n**Typical Values:**\r\n- Quick actions: 10-50 ticks\r\n- Simple crafts: 100-200 ticks\r\n- Complex crafts: 300-500 ticks\r\n- Major builds: 1000+ ticks\r\n\r\n#### Category\r\n**Purpose:** Where the recipe appears in the crafting UI\r\n\r\n**Syntax:**\r\n```\r\nCategory:CategoryName,\r\n```\r\n\r\n**Available Categories:**\r\n- `Carpentry` - Woodworking\r\n- `Cooking` - Food preparation\r\n- `Electrical` - Electronic devices\r\n- `Farming` - Agriculture\r\n- `FirstAid` - Medical items\r\n- `Fishing` - Fishing equipment\r\n- `Metalwork` - Metal crafting\r\n- `Tailoring` - Clothing/fabric\r\n- `Weapons` - Weapon crafting\r\n- `Chemistry` - Chemical/scientific\r\n\r\n**Example:**\r\n```\r\nCategory:Weapons,\r\n```\r\n\r\n#### Sound\r\n**Purpose:** Audio played during crafting\r\n\r\n**Syntax:**\r\n```\r\nSound:SoundName,\r\n```\r\n\r\n**Common Sounds:**\r\n- `Hammering`\r\n- `Sawing`\r\n- `Cooking`\r\n- `Sewing`\r\n- `Metalwork`\r\n- `Forge`\r\n- `Anvil`\r\n- `BoxOfRoundsOpenOne`\r\n- `ShotgunCrafting`\r\n- `AmmoCrafting2`\r\n\r\n### Optional Requirements\r\n\r\n#### NearItem\r\n**Purpose:** Requires player to be near a specific object/furniture\r\n\r\n**Syntax:**\r\n```\r\nNearItem:ObjectName,\r\nNearItem:Table1/Table2,      // Either table works\r\n```\r\n\r\n**Examples:**\r\n```\r\nNearItem:Armory Table,       // Enhanced Crafting table\r\nNearItem:DogHouse,           // Vanilla object\r\nNearItem:campfire,           // Vanilla campfire\r\n```\r\n\r\n#### SkillRequired\r\n**Purpose:** Minimum skill level needed to craft\r\n\r\n**Syntax:**\r\n```\r\nSkillRequired:SkillName=level,\r\n```\r\n\r\n**Available Skills:**\r\n- `Carpentry`\r\n- `Cooking`\r\n- `Farming`\r\n- `FirstAid`\r\n- `Electrical`\r\n- `MetalWelding`\r\n- `Mechanics`\r\n- `Tailoring`\r\n- `Aiming`\r\n- `Reloading`\r\n\r\n**Examples:**\r\n```\r\nSkillRequired:MetalWelding=3,\r\nSkillRequired:Carpentry=5,\r\nSkillRequired:Cooking=2,\r\n```\r\n\r\n#### NeedToBeLearn\r\n**Purpose:** Recipe requires reading a recipe book/magazine first\r\n\r\n**Syntax:**\r\n```\r\nNeedToBeLearn:true,          // Requires learning\r\nNeedToBeLearn:false,         // Available by default\r\n```\r\n\r\n**Example:**\r\n```\r\nrecipe Advanced Weapon Mod {\r\n    InputItems,\r\n    Result:Output,\r\n    NeedToBeLearn:true,      // Must find recipe book first\r\n}\r\n```\r\n\r\n### Callbacks & Scripting\r\n\r\n#### OnGiveXP\r\n**Purpose:** Custom XP reward function\r\n\r\n**Syntax:**\r\n```\r\nOnGiveXP:FunctionName,\r\n```\r\n\r\n**Vanilla Examples:**\r\n```\r\nOnGiveXP:Recipe.OnGiveXP.SawLogs,\r\nOnGiveXP:Give25MWXP,\r\nOnGiveXP:Give10MWXP,\r\n```\r\n\r\n**Effect:** Calls a Lua function to award skill XP to the player\r\n\r\n#### OnCreate\r\n**Purpose:** Custom function called when item is created\r\n\r\n**Syntax:**\r\n```\r\nOnCreate:FunctionName,\r\n```\r\n\r\n**Vanilla Example:**\r\n```\r\nOnCreate:Recipe.OnCreate.SpikedBat,\r\n```\r\n\r\n**Use Cases:**\r\n- Set custom item properties\r\n- Add random variations\r\n- Trigger events\r\n- Special effects\r\n\r\n#### OnTest\r\n**Purpose:** Custom function to test if recipe should be available\r\n\r\n**Syntax:**\r\n```\r\nOnTest:FunctionName,\r\n```\r\n\r\n**Use Cases:**\r\n- Complex availability logic\r\n- Check inventory for special items\r\n- Weather/time-based crafting\r\n- Mod compatibility checks\r\n\r\n#### OnCanPerform\r\n**Purpose:** Test if player can perform recipe right now\r\n\r\n**Syntax:**\r\n```\r\nOnCanPerform:FunctionName,\r\n```\r\n\r\n### Animation Parameters\r\n\r\n#### AnimNode\r\n**Purpose:** Animation to play while crafting\r\n\r\n**Syntax:**\r\n```\r\nAnimNode:AnimationName,\r\n```\r\n\r\n**Common Animations:**\r\n- `BuildHigh` - Hammering upward\r\n- `BuildLow` - Working downward\r\n- `BuildMid` - Working at mid-level\r\n- `Disassemble` - Taking apart\r\n- `SawLog` - Sawing motion\r\n- `BlowTorchMid` - Welding\r\n- `Drink` - Drinking/pouring\r\n\r\n**Example:**\r\n```\r\nAnimNode:BuildHigh,\r\n```\r\n\r\n#### Prop1 / Prop2\r\n**Purpose:** Items to display in player's hands during animation\r\n\r\n**Syntax:**\r\n```\r\nProp1:ItemName,              // Show specific item\r\nProp1:Source=1,              // Show first input item\r\nProp2:Source=2,              // Show second input item\r\n```\r\n\r\n**Examples:**\r\n```\r\nProp1:Hammer,                // Show hammer in hand\r\nProp2:Source=1,              // Show first input item\r\n```\r\n\r\n```\r\nProp1:BlowTorch,             // Show blowtorch\r\nProp2:Source=2,              // Show second input\r\n```\r\n\r\n### Item Behavior Parameters\r\n\r\n#### CanBeDoneFromFloor\r\n**Purpose:** Allow crafting with items on the ground (not in inventory)\r\n\r\n**Syntax:**\r\n```\r\nCanBeDoneFromFloor:true,\r\n```\r\n\r\n**Example:**\r\n```\r\nrecipe Saw Logs {\r\n    Log,\r\n    keep [Recipe.GetItemTypes.Saw],\r\n\r\n    CanBeDoneFromFloor:true, // Can saw logs on the ground\r\n    Result:Plank=3,\r\n    Time:230.0,\r\n}\r\n```\r\n\r\n#### AllowFrozenItem\r\n**Purpose:** Allow frozen ingredients\r\n\r\n**Syntax:**\r\n```\r\nAllowFrozenItem:true,\r\n```\r\n\r\n**Use Case:** Cooking recipes that work with frozen food\r\n\r\n#### AllowRottenItem\r\n**Purpose:** Allow rotten/spoiled ingredients\r\n\r\n**Syntax:**\r\n```\r\nAllowRottenItem:true,\r\n```\r\n\r\n**Use Case:** Composting, bait making\r\n\r\n## Complete Real-World Example\r\n\r\n### Vanilla Recipe: Saw Logs\r\n```\r\nrecipe Saw Logs {\r\n    Log,\r\n    keep [Recipe.GetItemTypes.Saw],\r\n\r\n    CanBeDoneFromFloor:true,\r\n    Result:Plank=3,\r\n    Sound:Sawing,\r\n    Time:230.0,\r\n    Category:Carpentry,\r\n    OnGiveXP:Recipe.OnGiveXP.SawLogs,\r\n    AnimNode:SawLog,\r\n    Prop1:Source=2,\r\n    Prop2:Log,\r\n}\r\n```\r\n\r\n**Breakdown:**\r\n- **Input:** 1 Log (consumed), 1 Saw (kept)\r\n- **Output:** 3 Planks\r\n- **Time:** 230 ticks\r\n- **Can be done from floor:** Yes\r\n- **Sound:** Sawing\r\n- **Animation:** SawLog with saw in hand\r\n- **XP:** Carpentry XP via callback\r\n- **Category:** Appears in Carpentry menu\r\n\r\n### Mod Recipe: Scrap Guns Weapon Assembly\r\n```\r\nrecipe Assemble Double Barrel Shotgun {\r\n    AirTank,\r\n    SheetMetal,\r\n    MetalPipe/LeadPipe,\r\n    LeadPipe/MetalPipe,\r\n    Plank,\r\n    LeatherStrips=5,\r\n    BlowTorch=1,\r\n    Wire=2,\r\n    keep [Recipe.GetItemTypes.Pliers],\r\n    keep [Recipe.GetItemTypes.WeldingMask],\r\n    keep [Recipe.GetItemTypes.Hammer],\r\n    keep [Recipe.GetItemTypes.Saw],\r\n\r\n    Result:HDBS,\r\n    Sound:ShotgunCrafting,\r\n    Time:1900,\r\n    Category:Weapons,\r\n    SkillRequired:MetalWelding=3,\r\n    OnGiveXP:Give25MWXP,\r\n    AnimNode:BlowTorchMid,\r\n    Prop1:BlowTorch,\r\n    NeedToBeLearn:true,\r\n}\r\n```\r\n\r\n**Breakdown:**\r\n- **Inputs:** 8 consumed items, 4 kept tools\r\n- **Alternatives:** MetalPipe OR LeadPipe (need 2 pipes)\r\n- **Output:** 1 HDBS (shotgun)\r\n- **Time:** 1900 ticks (long craft)\r\n- **Skill Required:** MetalWelding level 3\r\n- **Needs Learning:** Must read recipe first\r\n- **Animation:** Welding with blowtorch\r\n- **XP:** 25 MetalWelding XP\r\n- **Category:** Weapons\r\n\r\n## Parameter Priority\r\n\r\nWhen multiple parameters conflict:\r\n1. **OnTest** - Checked first (can hide recipe)\r\n2. **SkillRequired** - Checked if recipe visible\r\n3. **NeedToBeLearn** - Checked if skill met\r\n4. **NearItem** - Checked when attempting craft\r\n5. **OnCanPerform** - Final check before crafting\r\n\r\n## Source Files\r\n- **Vanilla Recipes:** `R:\\Games\\Steam\\steamapps\\common\\ProjectZomboid\\media\\scripts\\recipes.txt`\r\n- **Scrap Guns Recipes:** Workshop ID 2125659488\r\n- **Research Date:** 2025-11-06\r\n\r\n## Next Steps\r\n- See [01-recipe-creation-basics.md](01-recipe-creation-basics.md) for basic syntax\r\n- See [03-consumable-items.md](03-consumable-items.md) for keep vs consumed items\r\n- See [13-9mm-recipe-implementation.md](13-9mm-recipe-implementation.md) for complete bullet recipe\r\n",
  "excerpt": "This document provides a complete breakdown of all parameters available in Project Zomboid recipes, based on vanilla game recipes.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nCommon Item Types:\r\n- \r\n- \r\n-...",
  "lastUpdated": "2026-01-09",
  "difficulty": "intermediate",
  "tableOfContents": [
    {
      "id": "overview",
      "text": "Overview",
      "level": 2
    },
    {
      "id": "complete-recipe-template",
      "text": "Complete Recipe Template",
      "level": 2
    },
    {
      "id": "parameter-descriptions",
      "text": "Parameter Descriptions",
      "level": 2
    },
    {
      "id": "input-section",
      "text": "Input Section",
      "level": 3
    },
    {
      "id": "basic-input",
      "text": "Basic Input",
      "level": 4
    },
    {
      "id": "alternative-items-or-logic",
      "text": "Alternative Items (OR Logic)",
      "level": 4
    },
    {
      "id": "item-type-matching",
      "text": "Item Type Matching",
      "level": 4
    },
    {
      "id": "output-section",
      "text": "Output Section",
      "level": 3
    },
    {
      "id": "result",
      "text": "Result",
      "level": 4
    },
    {
      "id": "core-parameters",
      "text": "Core Parameters",
      "level": 3
    },
    {
      "id": "time",
      "text": "Time",
      "level": 4
    },
    {
      "id": "category",
      "text": "Category",
      "level": 4
    },
    {
      "id": "sound",
      "text": "Sound",
      "level": 4
    },
    {
      "id": "optional-requirements",
      "text": "Optional Requirements",
      "level": 3
    },
    {
      "id": "nearitem",
      "text": "NearItem",
      "level": 4
    },
    {
      "id": "skillrequired",
      "text": "SkillRequired",
      "level": 4
    },
    {
      "id": "needtobelearn",
      "text": "NeedToBeLearn",
      "level": 4
    },
    {
      "id": "callbacks-scripting",
      "text": "Callbacks & Scripting",
      "level": 3
    },
    {
      "id": "ongivexp",
      "text": "OnGiveXP",
      "level": 4
    },
    {
      "id": "oncreate",
      "text": "OnCreate",
      "level": 4
    },
    {
      "id": "ontest",
      "text": "OnTest",
      "level": 4
    },
    {
      "id": "oncanperform",
      "text": "OnCanPerform",
      "level": 4
    },
    {
      "id": "animation-parameters",
      "text": "Animation Parameters",
      "level": 3
    },
    {
      "id": "animnode",
      "text": "AnimNode",
      "level": 4
    },
    {
      "id": "prop1-prop2",
      "text": "Prop1 / Prop2",
      "level": 4
    },
    {
      "id": "item-behavior-parameters",
      "text": "Item Behavior Parameters",
      "level": 3
    },
    {
      "id": "canbedonefromfloor",
      "text": "CanBeDoneFromFloor",
      "level": 4
    },
    {
      "id": "allowfrozenitem",
      "text": "AllowFrozenItem",
      "level": 4
    },
    {
      "id": "allowrottenitem",
      "text": "AllowRottenItem",
      "level": 4
    },
    {
      "id": "complete-real-world-example",
      "text": "Complete Real-World Example",
      "level": 2
    },
    {
      "id": "vanilla-recipe-saw-logs",
      "text": "Vanilla Recipe: Saw Logs",
      "level": 3
    },
    {
      "id": "mod-recipe-scrap-guns-weapon-assembly",
      "text": "Mod Recipe: Scrap Guns Weapon Assembly",
      "level": 3
    },
    {
      "id": "parameter-priority",
      "text": "Parameter Priority",
      "level": 2
    },
    {
      "id": "source-files",
      "text": "Source Files",
      "level": 2
    },
    {
      "id": "next-steps",
      "text": "Next Steps",
      "level": 2
    }
  ]
}