{
  "id": "foraging-vanilla-foraging",
  "title": "VANILLA FORAGING SYSTEM - RESEARCH NOTES",
  "slug": "vanilla-foraging",
  "version": "build-41",
  "section": "modding",
  "category": "foraging",
  "tags": [
    "lua",
    "item",
    "foraging",
    "vanilla",
    "notes"
  ],
  "content": "# VANILLA FORAGING SYSTEM - RESEARCH NOTES\r\n\r\n**Date:** 2025-12-22\r\n**Researched For:** Iron Pyrite Foraging Implementation\r\n\r\n---\r\n\r\n## HOW VANILLA FORAGING WORKS\r\n\r\n### **Core Files:**\r\n- `R:\\Games\\Steam\\steamapps\\common\\ProjectZomboid\\media\\lua\\shared\\Foraging\\forageDefinitions.lua`\r\n  - Contains all foraging item definitions\r\n  - Uses global `forageDefs` table\r\n\r\n- `R:\\Games\\Steam\\steamapps\\common\\ProjectZomboid\\media\\lua\\shared\\Foraging\\forageSystem.lua`\r\n  - Core foraging logic/system\r\n\r\n---\r\n\r\n## KEY STRUCTURE\r\n\r\n### **Adding New Foraging Items (Non-Overwriting Method):**\r\n\r\n```lua\r\nrequire 'Foraging/forageSystem'\r\n\r\nforageDefs.ItemName = {\r\n    type = \"ModName.ItemType\",      -- Full item type with module\r\n    minCount = 1,                    -- Min amount found\r\n    maxCount = 1,                    -- Max amount found\r\n    skill = 0,                       -- Foraging skill level required to see\r\n    xp = 1,                          -- XP reward on pickup\r\n    categories = { \"Stones\" },       -- Category for the item\r\n    zones = {\r\n        Forest      = 5,             -- Number of ROLLS, NOT percent!\r\n        DeepForest  = 5,\r\n        Vegitation  = 5,\r\n        FarmLand    = 5,\r\n        Farm        = 5,\r\n        TrailerPark = 5,\r\n        TownZone    = 5,\r\n        Nav         = 5,\r\n    },\r\n    snowChance = -50,                -- % modifier in snow (negative = less common)\r\n    months = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12 },  -- Available all year\r\n}\r\n```\r\n\r\n**IMPORTANT:** The `zones` numbers are **number of rolls**, NOT percentages!\r\n- Higher number = more common\r\n- Each roll gives a chance for the item to spawn\r\n\r\n---\r\n\r\n## FAUNA MOD APPROACH (How to Add Without Overwriting)\r\n\r\n**File:** `FaunaForage_ForageDefinitionNormal.lua`\r\n\r\n```lua\r\nrequire 'Foraging/forageSystem'\r\n\r\nforageDefs.Armadillo = {\r\n    type = \"Fauna.Armadillo\",\r\n    minCount = 1,\r\n    maxCount = 1,\r\n    skill = 7,\r\n    xp = 20,\r\n    categories = { \"Animals\" },\r\n    zones = {\r\n        Forest          = 20,\r\n        Vegitation      = 10,\r\n        FarmLand        = 10,\r\n        Farm            = 10,\r\n        TrailerPark     = 10,\r\n        TownZone        = 10,\r\n        Nav             = 20,\r\n    },\r\n    bonusMonths = { 6, 7, 8 },  -- More common in summer\r\n    malusMonths = { 11, 12 },   -- Less common in winter\r\n}\r\n```\r\n\r\n**Key Points:**\r\n- Simply `require 'Foraging/forageSystem'`\r\n- Add to global `forageDefs` table\r\n- No overwriting needed - table merges automatically\r\n- Place file in: `media/lua/shared/Foraging/`\r\n\r\n---\r\n\r\n## VANILLA STONE DEFINITION (Baseline)\r\n\r\n```lua\r\nStone = {\r\n    type = \"Base.Stone\",\r\n    snowChance = -50,\r\n    xp = 1,\r\n    categories = { \"Stones\" },\r\n    zones = {\r\n        Forest      = 5,\r\n        DeepForest  = 5,\r\n        Vegitation  = 5,\r\n        FarmLand    = 5,\r\n        Farm        = 5,\r\n        TrailerPark = 5,\r\n        TownZone    = 5,\r\n        Nav         = 5,\r\n    },\r\n    months = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12 },\r\n},\r\n```\r\n\r\n**Analysis:**\r\n- 5 rolls per zone\r\n- -50% chance in snow\r\n- 1 XP reward\r\n- Available all year\r\n- Found in all zones\r\n\r\n---\r\n\r\n## IRON PYRITE DESIGN GOALS\r\n\r\n**User Requirements:**\r\n- Semi-common (more common than stone)\r\n- Players should be able to find this easily\r\n- Probably more common than vanilla stone\r\n\r\n**Recommended Stats:**\r\n- **Zones:** 8-10 rolls (vs stone's 5)\r\n- **Skill:** 0-1 (easy to spot)\r\n- **XP:** 2-3 (more than stone)\r\n- **Snow:** -30 (less penalty than stone)\r\n- **Months:** All year\r\n- **Category:** \"Stones\" or new \"Minerals\" category\r\n\r\n---\r\n\r\n## COMPARISON TABLE\r\n\r\n| Item | Rolls | Skill | XP | Snow % |\r\n|------|-------|-------|----|----|\r\n| Stone (Vanilla) | 5 | 0 | 1 | -50 |\r\n| Sharped Stone | 5 | 0 | 2 | -50 |\r\n| **Iron Pyrite (Proposed)** | **8** | **0** | **2** | **-30** |\r\n\r\n**Rationale:**\r\n- 60% more rolls than stone (8 vs 5) = Much more common\r\n- Same skill requirement = Easy to find\r\n- 2 XP = Rewarding but not OP\r\n- -30% snow = Still findable in winter\r\n\r\n---\r\n\r\n## AVAILABLE ZONES\r\n\r\nAll vanilla zones available:\r\n- `Forest` - Forest areas\r\n- `DeepForest` - Dense forest\r\n- `Vegitation` - Generic vegetation\r\n- `FarmLand` - Rural farmland\r\n- `Farm` - Farm areas\r\n- `TrailerPark` - Trailer parks\r\n- `TownZone` - Town/urban areas\r\n- `Nav` - Navigation zones\r\n\r\n---\r\n\r\n## SPRITE AFFINITIES (Optional)\r\n\r\nVanilla uses sprite affinities to attach items to specific world sprites:\r\n\r\n```lua\r\nspriteAffinities = {\r\n    stones = {\r\n        \"d_generic_1_13\",\r\n        \"d_generic_1_22\",\r\n        \"d_generic_1_23\",\r\n        \"d_generic_1_24\",\r\n        \"d_generic_1_25\",\r\n        -- ... many more ...\r\n    },\r\n}\r\n```\r\n\r\n**For Iron Pyrite:** Can reuse vanilla `stones` sprite affinities OR create custom ones.\r\n\r\n---\r\n\r\n## IMPLEMENTATION PATH\r\n\r\n1. Create file: `OutcastAC_ForageDefinitions.lua`\r\n2. Place in: `media/lua/shared/Foraging/`\r\n3. Require vanilla system\r\n4. Add `forageDefs.IronPyrite` entry\r\n5. Test in-game\r\n\r\n---\r\n\r\n## EXAMPLE IMPLEMENTATION\r\n\r\n```lua\r\nrequire 'Foraging/forageSystem'\r\n\r\n-- Iron Pyrite - Semi-common sulfur-bearing rock for chemistry\r\nforageDefs.IronPyrite = {\r\n    type = \"OutcastAC.IronPyrite\",\r\n    minCount = 1,\r\n    maxCount = 2,                    -- Can find 1-2 at once\r\n    skill = 0,                       -- No skill required\r\n    xp = 2,                          -- More XP than stone\r\n    categories = { \"Stones\" },\r\n    snowChance = -30,                -- Less penalty than stone\r\n    zones = {\r\n        Forest      = 8,             -- More common than stone (5)\r\n        DeepForest  = 10,            -- Even more in deep forest\r\n        Vegitation  = 7,\r\n        FarmLand    = 6,\r\n        Farm        = 6,\r\n        TrailerPark = 5,\r\n        TownZone    = 4,             -- Less common in town\r\n        Nav         = 7,\r\n    },\r\n    months = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12 },\r\n}\r\n```\r\n\r\n---\r\n\r\n## TESTING CHECKLIST\r\n\r\n- [ ] Item appears in foraging icons\r\n- [ ] Item spawns at appropriate frequency\r\n- [ ] XP is awarded on pickup\r\n- [ ] Item works in all zones\r\n- [ ] Item appears in all months\r\n- [ ] Snow modifier works correctly\r\n- [ ] Item can be found by all skill levels\r\n\r\n---\r\n\r\n**Next Steps:**\r\n1. Implement foraging file\r\n2. Test spawn rates\r\n3. Adjust zones/rolls if too common/rare\r\n4. Document final values\r\n",
  "excerpt": "Date: 2025-12-22\r\nResearched For: Iron Pyrite Foraging Implementation\r\n\r\n---\r\n\r\n\r\n\r\n\r\n- \r\n  - Contains all foraging item definitions\r\n  - Uses global  table\r\n\r\n- \r\n  - Core foraging logic/system\r\n\r...",
  "lastUpdated": "2026-01-09",
  "difficulty": "beginner",
  "tableOfContents": [
    {
      "id": "how-vanilla-foraging-works",
      "text": "HOW VANILLA FORAGING WORKS",
      "level": 2
    },
    {
      "id": "core-files",
      "text": "**Core Files:**",
      "level": 3
    },
    {
      "id": "key-structure",
      "text": "KEY STRUCTURE",
      "level": 2
    },
    {
      "id": "adding-new-foraging-items-non-overwriting-method",
      "text": "**Adding New Foraging Items (Non-Overwriting Method):**",
      "level": 3
    },
    {
      "id": "fauna-mod-approach-how-to-add-without-overwriting",
      "text": "FAUNA MOD APPROACH (How to Add Without Overwriting)",
      "level": 2
    },
    {
      "id": "vanilla-stone-definition-baseline",
      "text": "VANILLA STONE DEFINITION (Baseline)",
      "level": 2
    },
    {
      "id": "iron-pyrite-design-goals",
      "text": "IRON PYRITE DESIGN GOALS",
      "level": 2
    },
    {
      "id": "comparison-table",
      "text": "COMPARISON TABLE",
      "level": 2
    },
    {
      "id": "available-zones",
      "text": "AVAILABLE ZONES",
      "level": 2
    },
    {
      "id": "sprite-affinities-optional",
      "text": "SPRITE AFFINITIES (Optional)",
      "level": 2
    },
    {
      "id": "implementation-path",
      "text": "IMPLEMENTATION PATH",
      "level": 2
    },
    {
      "id": "example-implementation",
      "text": "EXAMPLE IMPLEMENTATION",
      "level": 2
    },
    {
      "id": "testing-checklist",
      "text": "TESTING CHECKLIST",
      "level": 2
    }
  ]
}